<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="goods.css"/>
	</head>
	<body>
		<div class="box">
			<!--logo-->
			<header><img src="imgs/title.jpg"/></header>
			<section class="content">
				<ul class="main">
					<li>
						<div class="mark">
							<img class="img1" src="imgs/out.png"/ >
						</div>
						<div class="title">
							<input type="text" name="" id="" value="2017 12 08 14:11:50" />
							<button>确定</button>							
						</div>
						<div class="main-dec">
							<div class="clock">
								<em>剩余</em>
								<span>0</span>
								<span>0</span>
								<span>:</span>
								<span>0</span>
								<span>0</span>
								<span>:</span>
								<span>0</span>
								<span>0</span>
							</div>
							<div class="pic">
								<i><img src="imgs/p1.png"/></i>
								<h3>Iphone7s plus 酷炫手机</h3>
								<h4>抢购价：￥8000</h4>
							</div>
						</div>
					</li>
					<li>
						<div class="mark">
							<img class="img1" src="imgs/out.png"/ >
						</div>
						<div class="title">
							<div class="title">
								<input type="text" name="" id="" value="2017 12 08 13:51:00" />
								<button>确定</button>							
							</div>
						</div>
						<div class="main-dec">
							<div class="clock">
								<em>剩余</em>
								<span>0</span>
								<span>0</span>
								<span>:</span>
								<span>0</span>
								<span>0</span>
								<span>:</span>
								<span>0</span>
								<span>0</span>
							</div>
							<div class="pic">
								<i><img src="imgs/p2.png"/></i>
								<h3>27英寸配备 Retina 5K显示屏</h3>
								<h4>抢购价：￥15999</h4>
							</div>
						</div>
					</li>
					<li>
						<div class="mark">
							<img class="img1" src="imgs/out.png"/ >
						</div>
						<div class="title">
							<div class="title">
								<input type="text" name="" id="" value="2017 12 08 15:55:00" />
								<button>确定</button>							
							</div>
						</div>
						<div class="main-dec">
							<div class="clock">
								<em>剩余</em>
								<span>0</span>
								<span>0</span>
								<span>:</span>
								<span>0</span>
								<span>0</span>
								<span>:</span>
								<span>0</span>
								<span>0</span>
							</div>
							<div class="pic">
								<i><img src="imgs/p3.png"/></i>
								<h3>魅族、锤子、小米"集"群</h3>
								<h4>抢购价：￥20000</h4>
							</div>
						</div>
					</li>
					<li>
						<div class="mark">
							<img class="img1" src="imgs/out.png"/ >
						</div>
						<div class="title">
							<div class="title">
								<input type="text" name="" id="" value="2017 12 08 10:52:00" />
								<button>确定</button>							
							</div>
						</div>
						<div class="main-dec">
							<div class="clock">
								<em>剩余</em>
								<span>0</span>
								<span>0</span>
								<span>:</span>
								<span>0</span>
								<span>0</span>
								<span>:</span>
								<span>0</span>
								<span>0</span>
							</div>
							<div class="pic">
								<i><img src="imgs/p4.png"/></i>
								<h3>Iwatch 智能手表不智能</h3>
								<h4>抢购价：￥5000</h4>
							</div>
						</div>
					</li>
				</ul>
				<div class="dec">
					<i><img src="imgs/dec.png"/></i>
					<ul class="list">
						<li>
							<span>27英寸配备 Retina 5K显示屏</span>
							<em>￥15999</em>
							<i><img src="imgs/p5.png"/></i>
						</li>
						<li>
							<span>魅族、锤子、小米"集"群</span>
							<em>￥20000</em>
							<i><img src="imgs/p6.png"/></i>
						</li>
						<li>
							<span>Iphone7s plus 酷炫手机</span>
							<em>￥8000</em>
							<i><img src="imgs/p7.png"/></i>
						</li>
						<li>
							<span>Iwatch 智能手表不智能</span>
							<em>￥5000</em>
							<i><img src="imgs/p8.png"/></i>
						</li>
					</ul>
				</div>
			</section>
			<footer>
				<img src="imgs/footer.png"/>
			</footer>
		</div>
		<script>
//			var main=document.querySelector('.main');
//			var oli=main.getElementsByTagName('li');
//			
//			 
//			for(var i=0;i<oli.length;i++){
//				 oli[i].index = i;
//				 one(oli[i]);
//			}
//			
////			one(oli[1])
//			
//			function toTow(n){				
//				return n<10?'0'+n:''+n;
//			}	
//			
//			function one(oli){					
//				var title=oli.querySelector('.title');
//				var btn=title.getElementsByTagName('button')[0];
//				var inp=title.getElementsByTagName('input')[0];
//				var clock=oli.querySelector('.clock');
//				var spans=clock.querySelectorAll('span');
//				
//							
//				let onOff=true;
//				
//				btn.onclick=function(){
//				
//					if(!onOff)return;
//					onOff=false;
//					let val=inp.value;
//					let timer=null;				
//				
//					let newDate = new Date(val);			
//					//mytime()
//					
//				 	timer = setInterval(function(){
//				 		mytime(oli)
//				 	},1000);
//				
//				function mytime(oli){
//					
//					var mark=document.querySelector('.mark');
//					var list=document.querySelector('.list');
//					let nowDate = new Date();
//		            let t = (newDate - nowDate) / 1000;	           
//		           
//					
//					if(Math.floor(t) <= 0){
//		                t = 0;
//		                clearInterval(timer); 
//		                
//		 
//		                shake(oli.index)
//		                onOff = true;
//		              	mark.style.display='block';
//		              	list.style.display='block';
//	            	}
//				 	let iDay = Math.floor(t/86400);
//		            t%=86400;
//		            let iH = Math.floor(t/3600);
//		            t%=3600;
//		            let iM = Math.floor(t/60);
//		            t%=60;
//					let str = toTow(iH)+':'+toTow(iM)+':'+toTow(Math.floor(t));
//					
//					//console.log(str)
//					
//					for(var i=0;i<str.length; i++){
//						if(i!=2 && i!=5){
//							spans[i].innerText=str[i];
//						}	
//					}	        				
//			}
//		}
//	
//}		
//						
//		  function shake(x){
//		  		
//			  	let arr=[];
//				let timer=null;
//				let num=0;
//				var img1=document.querySelector('.img1');
//				for(var i=10;i>0;i-=2){
//					arr.push(i,-i);
//				}
//				arr.push(0);
//				
//				clearInterval(timer);
//			  	timer=setInterval(function(){
//			  		 oli[x].style.left= parseFloat(getComputedStyle(oli[x].left))+arr[num]+'px';
//			  		 num++
//			  		 if(num===arr.length){
//			  		 	clearInterval(timer)
//			  		 	img1.style.transform = 'scale(1)';
//         				img1.style.opacity = 1;
//			  		 }
//			  		
//			  	},50)
//		  }
		  
		  ////////////////////////////////////////////////////////////////////////////////////
		  var main=document.querySelector('.main');
		  var oli=main.getElementsByTagName('li');
			
			 
			for(var i=0;i<oli.length;i++){
				 oli[i].index = i;
				 one(oli[i]);
			}
			
		//one(oli[1])
			
			function toTow(n){				
				return n<10?'0'+n:''+n;
			}	
			
		  function one(oli){					
				var title=document.getElementsByTagName('.title');
				var btn=document.getElementsByTagName('button')[0];
				var inp=document.getElementsByTagName('input')[0];
				var clock=document.querySelectorAll('.clock');
				var spans=clock[0].querySelectorAll('span');
				
				function toTow(n){				
					return n<10?'0'+n:''+n;
				}				
				let onOff=true;
				
				btn.onclick=function(){
				
					if(!onOff)return;
					onOff=false;
					let val=inp.value;
					let timer=null;				
				
				let newDate = new Date(val);			
					//mytime()
				 timer = setInterval(mytime,1000);
				
				function mytime(){  ///传什么参数？？？？？不会啊
					var mark=document.querySelector('.mark');
					var list=document.querySelector('.list');
					let nowDate = new Date();
		            let t = (newDate - nowDate) / 1000;	
		            
		            if(Math.floor(t) <= 0){
		                t = 0;
		                clearInterval(timer); 
		                shake()
		                onOff = true;
		              mark.style.display='block';
		              list.style.display='block';
	            	}
		            
		            let iDay = Math.floor(t/86400);
		            t%=86400;
		            let iH = Math.floor(t/3600);
		            t%=3600;
		            let iM = Math.floor(t/60);
		            t%=60;
					let str = toTow(iH)+':'+toTow(iM)+':'+toTow(Math.floor(t));
					
					for(var i=0;i<str.length; i++){
						if(i!=2 && i!=5){
							spans[i].innerText=str[i];
						}
							
					}	        				
			}
		}
	
}		
						
		  function shake(){
			  	let arr=[];
				let timer=null;
				let num=0;
				var img1=document.querySelector('.img1');
				for(var i=10;i>0;i-=2){
					arr.push(i,-i);
				}
				arr.push(0);
				clearInterval(timer);
			  	timer=setInterval(function(){
			  		 oli[0].style.left=arr[num]+'px';
			  		 num++
			  		 if(num===arr.length){
			  		 	clearInterval(timer)
			  		 	img1.style.transform = 'scale(1)';
           				img1.style.opacity = 1;
			  		 }
			  		
			  	},50)
		  }
		  
		  /////////////////////////////////////////////////////////////////////////////////
//		   var main=document.querySelector('.main');
//		  var oli=main.getElementsByTagName('li');
//			
//			 
//			for(var i=0;i<oli.length;i++){
////				 oli[i].index = i;
//				 one(oli[i]);
//			}
//			
////			one(oli[1])
//			
//			function toTow(n){				
//				return n<10?'0'+n:''+n;
//			}	
//			
//		  function one(oli){					
//				var title=document.getElementsByTagName('.title');
//				var btn=document.getElementsByTagName('button')[0];
//				var inp=document.getElementsByTagName('input')[0];
//				var clock=document.querySelectorAll('.clock');
//				var spans=clock[0].querySelectorAll('span');
//				
//				function toTow(n){				
//					return n<10?'0'+n:''+n;
//				}				
//				let onOff=true;
//				
//				btn.onclick=function(){
//				
//					if(!onOff)return;
//					onOff=false;
//					let val=inp.value;
//					let timer=null;				
//				
//				let newDate = new Date(val);			
//					//mytime()
//				 timer = setInterval(mytime,1000);
//				
//				function mytime(){
//					var mark=document.querySelector('.mark');
//					var list=document.querySelector('.list');
//					let nowDate = new Date();
//		            let t = (newDate - nowDate) / 1000;	
//		            
//		            if(Math.floor(t) <= 0){
//		                t = 0;
//		                clearInterval(timer); 
//		                shake()
//		                onOff = true;
//		              mark.style.display='block';
//		              list.style.display='block';
//	            	}
//		            
//		            let iDay = Math.floor(t/86400);
//		            t%=86400;
//		            let iH = Math.floor(t/3600);
//		            t%=3600;
//		            let iM = Math.floor(t/60);
//		            t%=60;
//					let str = toTow(iH)+':'+toTow(iM)+':'+toTow(Math.floor(t));
//					
//					for(var i=0;i<str.length; i++){
//						if(i!=2 && i!=5){
//							spans[i].innerText=str[i];
//						}
//							
//					}	        				
//			}
//		}
//	
//}		
//						
//		  function shake(){
//			  	let arr=[];
//				let timer=null;
//				let num=0;
//				var img1=document.querySelector('.img1');
//				for(var i=10;i>0;i-=2){
//					arr.push(i,-i);
//				}
//				arr.push(0);
//				clearInterval(timer);
//			  	timer=setInterval(function(){
//			  		 oli[0].style.left=arr[num]+'px';
//			  		 num++
//			  		 if(num===arr.length){
//			  		 	clearInterval(timer)
//			  		 	img1.style.transform = 'scale(1)';
//         				img1.style.opacity = 1;
//			  		 }
//			  		
//			  	},50)
//		  }
		</script>
	</body>
</html>
